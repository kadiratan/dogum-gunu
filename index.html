<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rua ğŸ’–</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #ff7eb3, #1a1a2e);
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}
.card {
  width: 90%;
  max-width: 380px;
  padding: 30px;
  border-radius: 22px;
  background: rgba(255,255,255,0.12);
  backdrop-filter: blur(18px);
  box-shadow: 0 25px 60px rgba(0,0,0,0.35);
  text-align: center;
}
h1,h2 { font-family: 'Playfair Display', serif; }
input,button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border-radius: 14px;
  border: none;
}
input { background: rgba(255,255,255,0.2); color: white; }
button { background: linear-gradient(135deg,#ff4fa3,#ff1f7a); color: white; cursor: pointer; transition: 0.3s; }

/* Kilitli buton stili */
button:disabled {
  background: #555;
  cursor: not-allowed;
  opacity: 0.7;
}

.hidden { display:none; }
#error { margin-top:15px; color:#ffd1dc; font-weight: bold; }
#lockBtn { margin-top:20px; }
.shake { animation: shake 0.3s infinite; }
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
}
</style>
</head>
<body>
<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="card" id="login">
  <h2>Bir AdÄ±m Daha ğŸ’«</h2>
  <input id="q1" placeholder="Senin lakabÄ±n">
  <input id="q2" placeholder="Kara listede kaÃ§ kiÅŸi var">
  <button id="checkBtn" onclick="check()">Devam Et</button>
  <div id="error"></div>
</div>

<div class="card hidden" id="success">
  <h1>HazÄ±r mÄ±sÄ±n Rua? ğŸŒ¸</h1>
  <p>Son bir ÅŸey kaldÄ±â€¦</p>
  <button id="lockBtn">Son sÃ¼rprizi aÃ§mak ister misin? ğŸ”’</button>
</div>

<script>
// BaÅŸlangÄ±Ã§ hakkÄ±
let attempts = 3;

function check(){
  // --- GÃœVENLÄ°K DUVARI 1 ---
  // EÄŸer hak zaten bitmiÅŸse butona basÄ±lsa bile hiÃ§bir ÅŸey yapma.
  if (attempts <= 0) return;

  const q1 = document.getElementById("q1").value.trim();
  const q2 = document.getElementById("q2").value.trim();
  const error = document.getElementById("error");
  const btn = document.getElementById("checkBtn");
  const inputs = document.querySelectorAll("input");

  // DoÄŸru cevap kontrolÃ¼
  if(q1 === "Geri TuÅŸu" && q2 === "4"){
    document.getElementById("login").classList.add("hidden");
    document.getElementById("success").classList.remove("hidden");
  } else {
    // YANLIÅ CEVAP
    attempts--; // HakkÄ± bir azalt (3 -> 2, 2 -> 1, 1 -> 0)

    // --- GÃœVENLÄ°K DUVARI 2 ---
    // SayÄ± dÃ¼ÅŸtÃ¼kten HEMEN SONRA kontrol et.
    
    if (attempts <= 0) {
      // EÄŸer hak 0 olduysa (veya altÄ±na indiyse) BURASI Ã‡ALIÅIR.
      // Ekrana asla "-1" yazdÄ±rmaz, direkt kilidi basar.
      
      attempts = 0; // SayÄ±yÄ± 0'a sabitle (gÃ¶rÃ¼ntÃ¼ bozulmasÄ±n diye)
      
      error.innerHTML = "Git Kadir'e sor artÄ±k...<br>Belki de sen Rua deÄŸilsin! ğŸ¤¨";
      error.style.color = "#ff6b6b"; 
      
      // Her ÅŸeyi kilitle
      btn.disabled = true;
      btn.innerText = "KÄ°LÄ°TLENDÄ° ğŸš«";
      
      inputs.forEach(input => {
        input.disabled = true;
        input.style.opacity = "0.5";
      });

    } else {
      // EÄŸer hak hala 0'dan bÃ¼yÃ¼kse (1 veya 2 ise) BURASI Ã‡ALIÅIR.
      error.innerText = "YanlÄ±ÅŸ ğŸ˜… Kalan hak: " + attempts;
      
      // Titreme efekti
      const card = document.getElementById("login");
      card.style.animation = "shake 0.3s";
      setTimeout(() => card.style.animation = "", 300);
    }
  }
}

const lockBtn = document.getElementById("lockBtn");
const music = document.getElementById("bgMusic");

lockBtn.onclick = () => {
  lockBtn.classList.add("shake");
  music.volume = 0.2;
  music.play();
  
  setTimeout(() => {
    window.location.href = "surprise.html";
  }, 3000);
};
</script>
</body>
</html>
