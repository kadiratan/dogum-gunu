<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Engineer Rua</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #ff7eb3, #1a1a2e);
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}
.card {
  width: 90%;
  max-width: 380px;
  padding: 30px;
  border-radius: 22px;
  background: rgba(255,255,255,0.12);
  backdrop-filter: blur(18px);
  box-shadow: 0 25px 60px rgba(0,0,0,0.35);
  text-align: center;
}
h1,h2 { font-family: 'Playfair Display', serif; }
input,button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border-radius: 14px;
  border: none;
}
input { background: rgba(255,255,255,0.2); color: white; }
button { background: linear-gradient(135deg,#ff4fa3,#ff1f7a); color: white; cursor: pointer; transition: 0.3s; }

button:disabled {
  background: #555;
  cursor: not-allowed;
  opacity: 0.7;
}

.hidden { display:none; }
#error { margin-top:15px; color:#ffd1dc; font-weight: bold; }
#lockBtn { margin-top:20px; }
.shake { animation: shake 0.3s infinite; }
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
}
</style>
</head>
<body>

<div class="card" id="login">
  <h2>Bir YaÅŸ Dahaa ðŸ’«</h2>
  <input id="q1" placeholder="Senin lakabÄ±n ne?">
  <input id="q2" placeholder="Kara listede kaÃ§ kiÅŸi var">
  <button id="checkBtn" onclick="check()">Devam Et</button>
  <div id="error"></div>
</div>

<div class="card hidden" id="success">
  <h1>HazÄ±r mÄ±sÄ±n Rua? ðŸŒ¸</h1>
  <p>Bir ÅŸey daha varâ€¦</p>
  <button id="lockBtn">KÃ¼Ã§Ã¼k sÃ¼rprizi gÃ¶rmek ister misin? ðŸ”’</button>
</div>

<script>
let attempts = 3;

function check(){
  if (attempts <= 0) return;

  const q1 = document.getElementById("q1").value.trim();
  const q2 = document.getElementById("q2").value.trim();
  const error = document.getElementById("error");
  const btn = document.getElementById("checkBtn");
  const inputs = document.querySelectorAll("input");

  // DOÄžRU CEVAP
  if(q1 === "Geri TuÅŸu" && q2 === "4"){
    document.getElementById("login").classList.add("hidden");
    document.getElementById("success").classList.remove("hidden");
    
    // DoÄŸru bildiÄŸi an mÃ¼zik garanti baÅŸlasÄ±n (User interaction olduÄŸu iÃ§in izin verir)
    const audio = document.getElementById("bgMusic");
    audio.play();
  } else {
    // YANLIÅž CEVAP
    attempts--; 
    if (attempts < 0) attempts = 0;

    if(attempts === 2) {
      error.innerText = "NasÄ±l bilmezsin ðŸ˜± (Kalan hak: 2)";
      titret();
    } 
    else if(attempts === 1) {
      error.innerText = "ÅžÃ¼phelenmeye baÅŸladÄ±m ðŸ¤¨ (Kalan hak: 1)";
      titret();
    } 
    else if(attempts === 0) {
      error.innerHTML = "Git Kadir'e sor artÄ±k...<br>Belki de sen Rua deÄŸilsin! ðŸ¤";
      error.style.color = "#ff6b6b"; 
      
      btn.disabled = true;
      btn.innerText = "KÄ°LÄ°TLENDÄ° ðŸš«";
      
      inputs.forEach(input => {
        input.disabled = true;
        input.style.opacity = "0.5";
      });
    }
  }
}

function titret() {
  const card = document.getElementById("login");
  card.style.animation = "shake 0.3s";
  setTimeout(() => card.style.animation = "", 300);
}

const lockBtn = document.getElementById("lockBtn");

lockBtn.onclick = () => {
  lockBtn.classList.add("shake");
  
  // MÃ¼zik zaten Ã§alÄ±yor olacak, biz sadece yÃ¶nlendirelim
  setTimeout(() => {
    // BURAYI MUM.HTML YAPTIM KÄ° ZÄ°NCÄ°R KOPMASIN
    window.location.href = "mum.html";
  }, 3000);
};
</script>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
  const audio = document.getElementById("bgMusic");

  // HafÄ±zadaki sÃ¼reyi kontrol et (Sayfa yenilenirse diye)
  const savedTime = localStorage.getItem("songTime");
  if (savedTime) {
    audio.currentTime = parseFloat(savedTime);
  }

  // Oynatmaya Ã§alÄ±ÅŸ
  var playPromise = audio.play();
  if (playPromise !== undefined) {
    playPromise.then(_ => {}).catch(error => {
      // Engellenirse ilk tÄ±klamada aÃ§
      document.body.addEventListener('click', () => { audio.play(); }, { once: true });
    });
  }

  // SÃ¼reyi kaydet
  setInterval(() => {
    if (!audio.paused) {
      localStorage.setItem("songTime", audio.currentTime);
    }
  }, 500);
</script>

</body>
</html>
